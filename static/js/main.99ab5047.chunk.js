(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(18),i=n.n(c),r=n(9),l=(n(34),n(4)),s=n(3),u=n(1),p=n(19),m=n.n(p);var d=function(e){var t=e.handleLogout,n=e.email;return o.a.createElement("header",{className:"header"},o.a.createElement("img",{className:"header__logo",src:m.a,alt:"\u041b\u043e\u0433\u043e"}),o.a.createElement(u.d,null,o.a.createElement(u.b,{exact:!0,path:"/"},o.a.createElement("div",{className:"header__info"},o.a.createElement("p",{className:"header__email"},n),o.a.createElement(r.b,{to:"/sign-in",onClick:t,className:"header__link"},"\u0412\u044b\u0439\u0442\u0438"))),o.a.createElement(u.b,{path:"/sign-in"},o.a.createElement(r.b,{to:"/sign-up",className:"header__link"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")),o.a.createElement(u.b,{path:"/sign-up"},o.a.createElement(r.b,{to:"/sign-in",className:"header__link"},"\u0412\u043e\u0439\u0442\u0438"))))},_=n(14);var g=function(e){var t=e.handleLogin,n=Object(_.a)({mode:"onChange"}),a=n.register,c=n.handleSubmit,i=n.formState,r=i.errors,l=i.isValid;return o.a.createElement("form",{className:"login",noValidate:!0,onSubmit:c(function(e){t(e.email,e.password),console.log(e)})},o.a.createElement("h2",{className:"login__title"},"\u0412\u0445\u043e\u0434"),o.a.createElement("input",Object.assign({className:"login__input login__input_email",type:"email",placeholder:"Email"},a("email",{required:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",pattern:{value:/^[-\w.]+@([A-z0-9][-A-z0-9]+\.)+[A-z]{2,4}$/,message:'\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e email, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 "example@ex.com"'}}))),o.a.createElement("span",{className:"login__input-error"},r.email&&r.email.message),o.a.createElement("input",Object.assign({className:"login__input login__input_password",type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"},a("password",{required:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",pattern:{value:/(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/,message:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0436\u0435\u0440\u0436\u0430\u0442\u044c c\u0442\u0440\u043e\u0447\u043d\u044b\u0435 \u0438 \u043f\u0440\u043e\u043f\u0438\u0441\u043d\u044b\u0435 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b, \u0446\u0438\u0444\u0440\u044b, \u0441\u043f\u0435\u0446\u0441\u0438\u043c\u0432\u043e\u043b\u044b. \u041c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}}))),o.a.createElement("span",{className:"login__input-error"},r.password&&r.password.message),o.a.createElement("button",{className:"login__submit-button",type:"submit",disabled:!l},"\u0412\u043e\u0439\u0442\u0438"))};var f=function(e){var t=e.handleRegister,n=(e.isDataSet,Object(_.a)({mode:"onChange"})),a=n.register,c=n.handleSubmit,i=n.formState,l=i.errors,s=i.isValid;return o.a.createElement("form",{className:"login",noValidate:!0,onSubmit:c(function(e){t(e.name,e.email,e.password),console.log(e)})},o.a.createElement("h2",{className:"login__title"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),o.a.createElement("input",Object.assign({className:"login__input login__input_name",type:"name",placeholder:"\u0418\u043c\u044f"},a("name",{required:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",minLength:{value:3,message:"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 3 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"},pattern:{value:/^[A-Za-z\u0410-\u042f\u0430-\u044f0-9_ \t]{2,35}$/,message:"\u0422\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b \u0438 \u0446\u0438\u0444\u0440\u044b, \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 35 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}}))),o.a.createElement("span",{className:"login__input-error"},l.name&&l.name.message),o.a.createElement("input",Object.assign({className:"login__input login__input_email",type:"email",placeholder:"Email"},a("email",{required:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",pattern:{value:/^[-\w.]+@([A-z0-9][-A-z0-9]+\.)+[A-z]{2,4}$/,message:'\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e email, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 "example@ex.com"'}}))),o.a.createElement("span",{className:"login__input-error"},l.email&&l.email.message),o.a.createElement("input",Object.assign({className:"login__input login__input_password",type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"},a("password",{required:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",pattern:{value:/(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/,message:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c. \u0414\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0436\u0435\u0440\u0436\u0430\u0442\u044c c\u0442\u0440\u043e\u0447\u043d\u044b\u0435 \u0438 \u043f\u0440\u043e\u043f\u0438\u0441\u043d\u044b\u0435 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b, \u0446\u0438\u0444\u0440\u044b, \u0441\u043f\u0435\u0446\u0441\u0438\u043c\u0432\u043e\u043b\u044b. \u041c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}}))),o.a.createElement("span",{className:"login__input-error"},l.password&&l.password.message),o.a.createElement("button",{className:"login__submit-button",type:"submit",disabled:!s},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),o.a.createElement(r.b,{to:"/sign-in",className:"login__link-enter"},"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? \u0412\u043e\u0439\u0442\u0438"))},h=n(22),E=n.n(h),v=n(23),b=n.n(v);var A=function(e){var t=e.isOpen,n=e.onClose,a=e.authStatus;return o.a.createElement("div",{className:"popup ".concat(t?"popup_opened":"")},o.a.createElement("fieldset",{className:"popup__container popup__container_type_info-tooltip"},o.a.createElement("button",{className:"popup__close-button",type:"button",onClick:n}),o.a.createElement("img",{className:"popup__tooltip-image",src:a?E.a:b.a,alt:a?"\u0423\u0441\u043f\u0435\u0445":"\u041e\u0448\u0438\u0431\u043a\u0430"}),o.a.createElement("p",{className:"popup__tooltip-text"},a?"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!":"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.")))},y=o.a.createContext();var N=function(e){var t=e.onCardClick,n=e.cards,a=e.onCardLike,c=e.onCardDelete,i=o.a.useContext(y),r=n.owner===i._id,l="element__delete ".concat(r?"":"element__delete_disabled"),s=n.likes.some(function(e){return e===i._id}),u="element__like ".concat(s?"element__like_active":"");return o.a.createElement("article",{className:"element"},o.a.createElement("button",{className:l,type:"button",onClick:function(){c(n)}}),""===n.link?"":o.a.createElement("img",{className:"element__image",alt:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0442\u043e, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u043e\u0439 \u0441\u0441\u044b\u043b\u043a\u0438: ".concat(n.link),src:n.link,onClick:function(){t(n)}}),o.a.createElement("div",{className:"element__caption"},o.a.createElement("h2",{className:"element__name"},n.name),o.a.createElement("div",{className:"element__like-counter-container"},o.a.createElement("button",{className:u,type:"button",onClick:function(){a(n)}}),o.a.createElement("p",{className:"element__like-counter"},n.likes.length))))};var C=function(e){var t=e.cards,n=e.onEditAvatar,a=e.onEditProfile,c=e.onAddPlace,i=e.onCardClick,r=e.onCardLike,l=e.onCardDelete,s=o.a.useContext(y);return o.a.createElement("main",{className:"content"},o.a.createElement("section",{className:"profile"},o.a.createElement("div",{className:"profile__avatar-container"},o.a.createElement("img",{className:"profile__avatar",src:s.avatar,alt:"\u0410\u0432\u0430\u0442\u0430\u0440"}),o.a.createElement("button",{className:"profile__avatar-edit",type:"button",onClick:n})),o.a.createElement("div",{className:"profile__info"},o.a.createElement("div",{className:"profile__edit-name"},o.a.createElement("h1",{className:"profile__title"},s.name),o.a.createElement("button",{className:"profile__edit-button",type:"button",onClick:a})),o.a.createElement("p",{className:"profile__subtitle"},o.a.createElement("span",{className:"profile__age"},s.age," \u043b\u0435\u0442, "),o.a.createElement("span",{className:"profile__city"},s.city,", "),o.a.createElement("span",{className:"profile__education"},s.education))),o.a.createElement("button",{className:"profile__add-button",type:"button",onClick:c},"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043f\u043e\u0441\u0442")),o.a.createElement("section",{className:"elements"},t.slice(0).reverse().map(function(e){return o.a.createElement(N,{key:e._id,cards:e,onCardClick:i,onCardLike:r,onCardDelete:l})})))};var k=function(){return o.a.createElement("footer",{className:"footer"},o.a.createElement("p",{className:"footer__description"},"\xa9 2023 Modified Log"))};var O=function(e){var t=e.card,n=e.onClose;return o.a.createElement("div",{className:"popup popup_type_preview ".concat(t.name?"popup_opened":"")},o.a.createElement("div",{className:"popup__container-preview"},o.a.createElement("button",{className:"popup__close-button",type:"button",onClick:n}),o.a.createElement("img",{className:"popup__preview",src:t.link,alt:t.name}),o.a.createElement("p",{className:"popup__subtitle"},t.name)))},j=n(10),S=n(2);var w=function(e){var t=e.isOpen,n=e.onClose,a=e.name,c=e.title,i=e.buttonText,r=e.children,l=e.onSubmit;return o.a.createElement("div",{className:"popup ".concat(a," ").concat(t?"popup_opened":"")},o.a.createElement("form",{name:"".concat(a),className:"popup__container",onSubmit:l},o.a.createElement("button",{type:"button",className:"popup__close-button",onClick:n}),o.a.createElement("h2",{className:"popup__title"},"".concat(c)),r,o.a.createElement("button",{type:"submit",className:"popup__save-button",title:"".concat(i)},"".concat(i))))};var z=function(e){var t=e.isOpen,n=e.onClose,a=e.onUpdateUser,c=o.a.useContext(y),i=o.a.useState({name:"",age:"",city:"",education:""}),r=Object(s.a)(i,2),l=r[0],u=r[1];function p(e){var t=e.target,n=t.name,a=t.value;u(Object(S.a)({},l,Object(j.a)({},n,a)))}return o.a.useEffect(function(){u({name:c.name,age:c.age,city:c.city,education:c.education})},[c,t]),o.a.createElement(w,{name:"popup__form_submit",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",buttonTitle:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault();var t=l.name,n=l.age,o=l.city,c=l.education;a({name:t,age:n,city:o,education:c})},buttonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"},o.a.createElement("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",className:"popup__input popup__input_type_name",name:"name",value:l.name,onChange:p,required:!0,minLength:"3",maxLength:"30"}),o.a.createElement("input",{type:"number",placeholder:"\u0412\u043e\u0437\u0432\u0440\u0430\u0441\u0442",className:"popup__input popup__input_type_age",name:"age",value:l.age,onChange:p,required:!0,min:"10",max:"99"}),o.a.createElement("input",{type:"text",placeholder:"\u0413\u043e\u0440\u043e\u0434 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f",className:"popup__input popup__input_type_education",name:"city",value:l.city,onChange:p,required:!0,minLength:"3",maxLength:"30"}),o.a.createElement("input",{type:"text",placeholder:"\u0412\u0423\u0417 \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0443\u0447\u0438\u043b\u0438\u0441\u044c",className:"popup__input popup__input_type_education",name:"education",id:"job-input",value:l.education,onChange:p,required:!0,minLength:"3",maxLength:"30"}))};var I=function(e){var t=e.isOpen,n=e.onClose,a=e.onUpdateUser,c=(e.isLoading,o.a.useRef());return o.a.useEffect(function(){c.current.value=""},[t]),o.a.createElement(w,{name:"popup__form_avatar",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",buttonTitle:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault(),a({avatar:c.current.value})},buttonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"},o.a.createElement("input",{type:"url",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0430\u0432\u0442\u0430\u0440",className:"popup__input popup__input_type_avatar",name:"avatar-input",id:"avatar-input",ref:c,required:!0}))};var x=function(e){var t=e.isOpen,n=e.onClose,a=e.onAddPlace,c=o.a.useState(""),i=Object(s.a)(c,2),r=i[0],l=i[1],u=o.a.useState(""),p=Object(s.a)(u,2),m=p[0],d=p[1];return o.a.useEffect(function(){l(""),d("")},[t]),o.a.createElement(w,{name:"add",title:"\u041d\u043e\u0432\u044b\u0439 \u043f\u043e\u0441\u0442",buttonTitle:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault(),a({name:r,link:m})},buttonText:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"},o.a.createElement("textarea",{type:"text",placeholder:"\u0421\u043e\u0436\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430",className:"popup__input popup__input_type_post",name:"popup__input_name-place",id:"place-input",value:r,onChange:function(e){l(e.target.value)},required:!0,minLength:"3"}),o.a.createElement("input",{type:"url",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",className:"popup__input popup__input_type_link-place",name:"popup__input_link-place",id:"link-input",value:m,onChange:function(e){d(e.target.value)}}))},L=n(24),T=n(25),J=new(function(){function e(t){var n=this,a=t.url;Object(L.a)(this,e),this.getUserInfo=function(){return fetch("".concat(n._url,"/users/me"),{headers:{"Content-type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(function(e){return n._checkResult(e)})},this.patchUserInfo=function(e,t,a,o){return fetch("".concat(n._url,"/users/me"),{method:"PATCH",headers:{"Content-type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({name:e,age:t,city:a,education:o})}).then(function(e){return n._checkResult(e)})},this.getCards=function(){return fetch("".concat(n._url,"/cards"),{headers:{"Content-type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(function(e){return n._checkResult(e)})},this.postCard=function(e,t){return fetch("".concat(n._url,"/cards"),{method:"POST",headers:{"Content-type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({name:e,link:t})}).then(function(e){return n._checkResult(e)})},this.likeCard=function(e,t){return fetch("".concat(n._url,"/cards/").concat(e,"/likes"),{method:t?"PUT":"DELETE",headers:{"Content-type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(function(e){return n._checkResult(e)})},this.deleteCard=function(e){return fetch("".concat(n._url,"/cards/").concat(e),{method:"DELETE",headers:{"Content-type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(function(e){return n._checkResult(e)})},this.editAvatar=function(e){return fetch("".concat(n._url,"/users/me/avatar"),{method:"PATCH",headers:{"Content-type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({avatar:e})}).then(function(e){return n._checkResult(e)})},this._url=a}return Object(T.a)(e,[{key:"_checkResult",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.statusText))}}]),e}())({url:"http://localhost:3001"}),U="http://localhost:3001",P=function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))},B=function(e,t,n){return fetch("".concat(U,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:n})}).then(P)},Q=function(e,t){return fetch("".concat(U,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(P)},Z=function(e){return fetch("".concat(U,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then(P)},R=n(12),M=function(e){var t=e.component,n=Object(R.a)(e,["component"]);return o.a.createElement(u.b,null,function(){return!0===n.loggedIn?o.a.createElement(t,n):o.a.createElement(u.a,{to:"./sign-in"})})};var F=function(){var e=o.a.useState(!1),t=Object(s.a)(e,2),n=t[0],a=t[1],c=o.a.useState(!1),i=Object(s.a)(c,2),r=i[0],p=i[1],m=o.a.useState(!1),_=Object(s.a)(m,2),h=_[0],E=_[1],v=o.a.useState(!1),b=Object(s.a)(v,2),N=b[0],j=b[1],S=o.a.useState(!1),w=Object(s.a)(S,2),L=w[0],T=w[1],U=o.a.useState([]),P=Object(s.a)(U,2),R=P[0],F=P[1],D=o.a.useState({name:"",link:"",alt:""}),q=Object(s.a)(D,2),G=q[0],H=q[1],K=o.a.useState({name:"",about:"",avatar:"",age:""}),W=Object(s.a)(K,2),Y=W[0],V=W[1],X=o.a.useState(!1),$=Object(s.a)(X,2),ee=$[0],te=$[1],ne=o.a.useState(!1),ae=Object(s.a)(ne,2),oe=ae[0],ce=ae[1],ie=o.a.useState({email:""}),re=Object(s.a)(ie,2),le=re[0],se=re[1],ue=Object(u.g)();o.a.useEffect(function(){ee&&J.getCards().then(function(e){F(e),ue.push("/")}).catch(function(e){console.log(e)})},[ee]),o.a.useEffect(function(){ee&&J.getUserInfo().then(function(e){V(e.data)}).catch(function(e){console.log(e)})},[ee]);var pe=n||r||h||G.link||N;o.a.useEffect(function(){function e(e){"Escape"===e.key&&me()}if(pe)return document.addEventListener("keydown",e),document.addEventListener("click",de),function(){document.removeEventListener("keydown",e),document.removeEventListener("click",de)}},[pe]),o.a.useEffect(function(){ee&&ue.push("/")},[ue,ee]),o.a.useEffect(function(){!function(){var e=localStorage.getItem("token");e&&Z(e).then(function(e){e&&(se({email:e.data.email}),te(!0))}).catch(function(e){return console.log(e)})}()},[]);var me=function(){a(!1),p(!1),E(!1),H({name:"",link:""}),j(!1)};function de(e){e.target.classList.contains("popup")&&me()}return o.a.createElement(y.Provider,{value:Y},o.a.createElement("div",{className:"page"},o.a.createElement(d,{loggedIn:ee,handleLogout:function(){localStorage.removeItem("token"),se({email:""}),te(!1)},email:le.email}),o.a.createElement(u.d,null,o.a.createElement(M,{loggedIn:ee,exact:!0,path:"/",cards:R,onEditAvatar:function(){a(!0)},onEditProfile:function(){p(!0)},onAddPlace:function(){E(!0)},onCardClick:function(e){H(e)},onCardLike:function(e){var t=e.likes.some(function(e){return e===Y._id});J.likeCard(e._id,!t).then(function(t){F(function(n){return n.map(function(n){return n._id===e._id?t:n})})}).catch(function(e){return console.log(e)})},onCardDelete:function(e){J.deleteCard(e._id).then(function(){F(function(t){return t.filter(function(t){return t._id!==e._id&&t})})}).catch(function(e){return console.log(e)})},component:C}),o.a.createElement(u.b,{path:"/sign-in"},o.a.createElement(g,{handleLogin:function(e,t){Q(e,t).then(function(t){t.token&&(localStorage.setItem("token",t.token),se({email:e}),te(!0),ue.push("/"))}).catch(function(e){ue.push("/sign-in"),T(!1),j(!0),console.log(e)})}})),o.a.createElement(u.b,{path:"/sign-up"},o.a.createElement(f,{handleRegister:function(e,t,n){B(e,t,n).then(function(){console.log(e,t,n),ce(!0),ue.push("/sign-in"),T(!0)}).catch(function(a){console.log(e,t,n),ce(!1),T(!1),j(!0)}).finally(function(){ce(!1),j(!0)})},isDataSet:oe})),o.a.createElement(u.b,{path:"*"},ee?o.a.createElement(u.a,{to:"/"}):o.a.createElement(u.a,{to:"/sign-in"}))),o.a.createElement(k,null),o.a.createElement(I,{isOpen:n,onClose:me,onUpdateUser:function(e){J.editAvatar(e.avatar).then(function(e){V(e.data),me()}).catch(function(e){return console.log(e)})}}),o.a.createElement(z,{isOpen:r,onClose:me,onUpdateUser:function(e){J.patchUserInfo(e.name,e.age,e.city,e.education).then(function(e){V(e),me()}).catch(function(e){return console.log(e)})}}),o.a.createElement(x,{isOpen:h,onClose:me,onAddPlace:function(e){J.postCard(e.name,e.link).then(function(e){F([].concat(Object(l.a)(R),[e])),me()}).catch(function(e){return console.log(e)})}}),o.a.createElement(O,{card:G,onClose:me}),o.a.createElement(A,{isOpen:N,onClose:me,authStatus:L})))},D=function(e){e&&e instanceof Function&&n.e(1).then(n.bind(null,103)).then(function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),o(e),c(e),i(e)})};i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(r.a,null,o.a.createElement(F,null))),document.getElementById("root")),D()},19:function(e,t){e.exports="data:image/png;base64,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"},22:function(e,t,n){e.exports=n.p+"static/media/imageSuccess.e38b395c.svg"},23:function(e,t,n){e.exports=n.p+"static/media/imageError.4072126c.svg"},26:function(e,t,n){e.exports=n(102)},34:function(e,t,n){}},[[26,3,2]]]);
//# sourceMappingURL=main.99ab5047.chunk.js.map